{% extends "base.html" %}
{% block title %}
SwarmOps | Docker管理平台
{% endblock %}
{% block container %}
{% if not Services %}
<div class="alert alert-warning" role="alert">活跃集群中没有服务!!!</div>
{% endif %}
<table class=" table table-bordered table-hover table-condensed table-responsive">
    <thead>
        <tr class="active">
            <th>ID</th>
            <th>Name</th>
            <th>Image</th>
            <th>Env</th>
            <th>Mounts</th>
            <th>Replicas</th>
            <th>CreatedAt</th>
            <th>UpdatedAt</th>
            <th>UpdateStatus</th>
            {% if request.args.get("show") %}
            <th>NetMode</th>
            <th>NetVip</th>
            <th>NetPorts</th>
            <th>Version</th>
            {% endif %}
        </tr>
    </thead>
    <tbody>
    {% for service in Services %}
        <tr>
            <td style='vertical-align: middle; text-align: center;'>{{ service.ID }}</td>
            <td style='vertical-align: middle; text-align: center;'>{{ service.Name }}</td>
            <td style='vertical-align: middle; text-align: center;'>{{ service.Image }}</td>
            <td style='vertical-align: middle; text-align: center;'>{{ service.Env }}</td>
            <td style='vertical-align: middle; text-align: center;'>{{ service.Mounts }}</td>
            <td style='vertical-align: middle; text-align: center;'>{{ service.Replicas }}</td>
            <td style='vertical-align: middle; text-align: center;'>{{ service.CreatedAt }}</td>
            <td style='vertical-align: middle; text-align: center;'>{{ service.UpdatedAt }}</td>
            <td style='vertical-align: middle; text-align: center;'>{{ service.UpdateStatus }}</td>
            {% if request.args.get("show") %}
            <td style='vertical-align: middle; text-align: center;'>{{ service.NetMode }}</td>
            <td style='vertical-align: middle; text-align: center;'>{{ service.NetVip }}</td>
            <td style='vertical-align: middle; text-align: center;'>{{ service.NetPorts }}</td>
            <td style='vertical-align: middle; text-align: center;'>{{ service.Version }}</td>
            {% endif %}
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
{% block script %}
<script type="text/javascript">
// 服务数量
document.getElementById("service_number").innerHTML= {{ Services|length }};

// 更新导航
var NavId=null;
var As=document.getElementById('tab').getElementsByTagName('li');
NavId = As[1];
console.log(NavId)
NavId.className='active';
</script>
{% endblock %}
